// timeago@1.6.7 downloaded from https://ga.jspm.io/npm:timeago@1.6.7/jquery.timeago.js

import t from"jquery";var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;
/**
 * Timeago is a jQuery plugin that makes it easy to support automatically
 * updating fuzzy timestamps (e.g. "4 minutes ago" or "about 1 day ago").
 *
 * @name timeago
 * @version 1.6.7
 * @requires jQuery >=1.5.0 <4.0
 * @author Ryan McGeary
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 *
 * For usage and examples, visit:
 * http://timeago.yarp.com/
 *
 * Copyright (c) 2008-2019, Ryan McGeary (ryan -[at]- mcgeary [*dot*] org)
 */(function(e){e(t)})((function(t){t.timeago=function(e){return e instanceof Date?inWords(e):inWords("string"===typeof e?t.timeago.parse(e):"number"===typeof e?new Date(e):t.timeago.datetime(e))};var a=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:true,allowFuture:false,localeTitle:false,cutoff:0,autoDispose:true,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(a){if(!(this||e).settings.allowPast&&!(this||e).settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var i=(this||e).settings.strings;var r=i.prefixAgo;var s=i.suffixAgo;if((this||e).settings.allowFuture&&a<0){r=i.prefixFromNow;s=i.suffixFromNow}if(!(this||e).settings.allowPast&&a>=0)return(this||e).settings.strings.inPast;var n=Math.abs(a)/1e3;var o=n/60;var u=o/60;var l=u/24;var m=l/365;function substitute(e,r){var s=t.isFunction(e)?e(r,a):e;var n=i.numbers&&i.numbers[r]||r;return s.replace(/%d/i,n)}var d=n<45&&substitute(i.seconds,Math.round(n))||n<90&&substitute(i.minute,1)||o<45&&substitute(i.minutes,Math.round(o))||o<90&&substitute(i.hour,1)||u<24&&substitute(i.hours,Math.round(u))||u<42&&substitute(i.day,1)||l<30&&substitute(i.days,Math.round(l))||l<45&&substitute(i.month,1)||l<365&&substitute(i.months,Math.round(l/30))||m<1.5&&substitute(i.year,1)||substitute(i.years,Math.round(m));var f=i.wordSeparator||"";void 0===i.wordSeparator&&(f=" ");return t.trim([r,d,s].join(f))},parse:function(e){var a=t.trim(e);a=a.replace(/\.\d+/,"");a=a.replace(/-/,"/").replace(/-/,"/");a=a.replace(/T/," ").replace(/Z/," UTC");a=a.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");a=a.replace(/([\+\-]\d\d)$/," $100");return new Date(a)},datetime:function(e){var i=a.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return a.parse(i)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var i={init:function(){i.dispose.call(this||e);var r=t.proxy(refresh,this||e);r();var s=a.settings;s.refreshMillis>0&&((this||e)._timeagoInterval=setInterval(r,s.refreshMillis))},update:function(i){var r=i instanceof Date?i:a.parse(i);t(this||e).data("timeago",{datetime:r});a.settings.localeTitle&&t(this||e).attr("title",r.toLocaleString());refresh.apply(this||e)},updateFromDOM:function(){t(this||e).data("timeago",{datetime:a.parse(a.isTime(this||e)?t(this||e).attr("datetime"):t(this||e).attr("title"))});refresh.apply(this||e)},dispose:function(){if((this||e)._timeagoInterval){window.clearInterval((this||e)._timeagoInterval);(this||e)._timeagoInterval=null}}};t.fn.timeago=function(t,a){var r=t?i[t]:i.init;if(!r)throw new Error("Unknown function name '"+t+"' for timeago");this.each((function(){r.call(this||e,a)}));return this||e};function refresh(){var i=a.settings;if(i.autoDispose&&!t.contains(document.documentElement,this||e)){t(this||e).timeago("dispose");return this||e}var r=prepareData(this||e);isNaN(r.datetime)||(0===i.cutoff||Math.abs(distance(r.datetime))<i.cutoff?t(this||e).text(inWords(r.datetime)):t(this||e).attr("title").length>0&&t(this||e).text(t(this||e).attr("title")));return this||e}function prepareData(e){e=t(e);if(!e.data("timeago")){e.data("timeago",{datetime:a.datetime(e)});var i=t.trim(e.text());a.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):i.length>0&&!(a.isTime(e)&&e.attr("title"))&&e.attr("title",i)}return e.data("timeago")}function inWords(t){return a.inWords(distance(t))}function distance(t){return(new Date).getTime()-t.getTime()}document.createElement("abbr");document.createElement("time")}));var a={};export default a;

